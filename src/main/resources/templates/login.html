<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Acceso a Team Board</title>
    <!-- Tu CSS local -->
    <link rel="stylesheet" th:href="@{/css/login.css}" />

    <!-- Font Awesome desde CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>
<div class="particles" id="particles"></div>
<div class="welcome-container">
    <h1>Bienvenido</h1>
    <p class="subtitle">Formulario de acceso</p>

    <div class="access-box">
        <!-- Mostrar error si existe -->
        <div th:if="${param.error}" class="error-message">
            <i class="fas fa-exclamation-circle"></i>
            <span th:text="${session.SPRING_SECURITY_LAST_EXCEPTION?.message}">Error de autenticación</span>
        </div>

        <!-- Botones OAuth -->
        <a href="/oauth2/authorization/google" class="oauth-btn google">
            <i class="fab fa-google"></i>
            <span>Continuar con Google</span>
        </a>

        <a href="/oauth2/authorization/github" class="oauth-btn github">
            <i class="fab fa-github"></i>
            <span>Continuar con GitHub</span>
        </a>

        <div class="divider">
            <span class="divider-text">O</span>
        </div>

        <!-- Formulario tradicional con API Key -->
        <form action="/login" method="post">
            <div class="input-group">
                <label for="token">Token de acceso:</label>
                <input type="password" id="token" name="token" placeholder="Ingresa tu token" required>
                <i class="fas fa-key"></i>
            </div>
            <button type="submit" class="btn-access">
                <span>Acceder</span>
                <i class="fas fa-arrow-right"></i>
            </button>
        </form>

        <p class="note">
            <i class="fas fa-info-circle"></i>
            Solicita el token al administrador del sistema
        </p>
    </div>
</div>

<script>
    // Crear partículas decorativas
    document.addEventListener('DOMContentLoaded', function() {
        const particles = document.getElementById('particles');
        for (let i = 0; i < 20; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.width = `${Math.random() * 5 + 2}px`;
            particle.style.height = particle.style.width;
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.opacity = Math.random() * 0.5 + 0.1;
            particle.style.animationDuration = `${Math.random() * 10 + 5}s`;
            particle.style.animationDelay = `${Math.random() * 5}s`;
            particles.appendChild(particle);
        }
    });
</script>
</body>
</html>