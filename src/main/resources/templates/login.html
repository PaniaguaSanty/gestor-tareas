<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Login</title>
    <link rel="stylesheet" th:href="@{/css/login.css}" href="/static/css/login.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
</head>
<body>
<div class="particles" id="particles"></div>
<div class="shooting-stars" id="shooting-stars"></div>
<div class="welcome-container">
    <h1>Bienvenido</h1>
    <div class="access-box">
        <!-- Formulario principal -->
        <form action="/login" method="post" class="main-form">
            <div class="input-group">
                <label for="email">Correo electrónico:</label>
                <input type="email" id="email" name="email" placeholder="Ingresa tu correo" required>
                <i class="fas fa-envelope"></i>
            </div>

            <div class="input-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" placeholder="Ingresa tu contraseña" required>
                <i class="fas fa-lock"></i>
            </div>

            <button type="submit" class="btn-access">
                <span>
                    <a th:href="@{/mainPage}">Acceder</a>
                </span>
                <i class="fas fa-arrow-right"></i>
            </button>
        </form>

        <p class="register-link">
            ¿No tienes una cuenta? <a href="/registro">Crea una cuenta</a>
        </p>

        <div class="divider">
            <span class="divider-text">O</span>
        </div>

        <!-- Sección OAuth compacta -->
        <div class="oauth-section">
            <a href="/oauth2/authorization/google" class="oauth-btn google">
                <i class="fab fa-google"></i>
                <span>Continuar con Google</span>
            </a>

            <a href="/oauth2/authorization/github" class="oauth-btn github">
                <i class="fab fa-github"></i>
                <span>Continuar con GitHub</span>
            </a>
        </div>

        <div class="divider">
            <span class="divider-text">O</span>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const particles = document.getElementById('particles');
        for (let i = 0; i < 20; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.width = `${Math.random() * 5 + 2}px`;
            particle.style.height = particle.style.width;
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.opacity = Math.random() * 0.5 + 0.1;
            particle.style.animationDuration = `${Math.random() * 10 + 5}s`;
            particle.style.animationDelay = `${Math.random() * 5}s`;
            particles.appendChild(particle);
        }

        // Crear estrellas fugaces
        const shootingStarsContainer = document.getElementById('shooting-stars');

        function createShootingStar() {
            const star = document.createElement('div');
            star.classList.add('shooting-star');

            // Posición inicial aleatoria
            const startX = Math.random() * 100;
            const startY = Math.random() * 30;

            // Duración y retraso aleatorio
            const duration = Math.random() * 2 + 2;
            const delay = Math.random() * 10 + 3;

            star.style.left = `${startX}%`;
            star.style.top = `${startY}%`;
            star.style.animationDuration = `${duration}s`;
            star.style.animationDelay = `${delay}s`;

            // Tamaño aleatorio
            const size = Math.random() * 4 + 6;
            star.style.width = `${size}px`;
            star.style.height = `${size * 4}px`;

            shootingStarsContainer.appendChild(star);

            // Eliminar la estrella después de la animación
            star.addEventListener('animationend', function() {
                star.remove();
            });
        }
        // Crear varias estrellas fugaces
        for (let i = 0; i < 8; i++) {
            createShootingStar();
        }
        // Seguir creando estrellas cada cierto tiempo
        setInterval(createShootingStar, 3000);
    });
</script>
</body>
</html>