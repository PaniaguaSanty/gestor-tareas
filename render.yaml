services:
  - type: web
    name: todoapp-java
    runtime: docker
    env: docker
    build:
      dockerfile: Dockerfile
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: SPRING_DATASOURCE_URL
        value: jdbc:postgresql://dpg-dlv6r11db04c73f81uq0-a:5432/todoappdb_oZu
      - key: SPRING_DATASOURCE_USERNAME
        value: todoappuser
      - key: SPRING_DATASOURCE_PASSWORD
        sync: false  # IMPORTANTE: Esto evita que la contrase√±a quede en el repo
      - key: PORT
        value: 8080